{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" href="{% static 'favicon.png' %}" type="image/png">

<title>WACatalog ‚Äì Register</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<style>
:root{
  --green:#1e6b3a;
  --gold:#c9a437;
  --dark:#145126;
  --white:#fff;
  --glass-bg: rgba(255,255,255,0.75);
}

*{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif;}
body{background:linear-gradient(135deg,#fdfdf9,#f0f5f0);color:#1f1f1f;min-height:100vh;display:flex;flex-direction:column;}
a{text-decoration:none;color:inherit;}

/* Header */
header{
position:fixed;width:100%;top:0;left:0;padding:15px 30px;background:rgba(255,255,255,0.15);backdrop-filter:blur(5px);
display:flex;justify-content:space-between;align-items:center;z-index:1000;
}
.logo img{height:100px;}

/* Main */
main{flex:1;display:flex;align-items:center;justify-content:center;padding:120px 20px 60px;}

/* Glass Card */
.glass{
background:var(--glass-bg);border-radius:20px;border:1px solid rgba(255,255,255,0.85);
backdrop-filter:blur(12px);box-shadow:0 10px 40px rgba(0,0,0,0.12);padding:40px;
max-width:480px;width:90%;margin:0 auto;transition: transform 0.3s, box-shadow 0.3s;
}
.glass:hover{transform:translateY(-8px);box-shadow:0 15px 50px rgba(0,0,0,0.18);}

/* Headers */
.auth-container h1{font-size:2.5em;color:var(--green);margin-bottom:20px;text-align:center;}
.auth-container p{margin-bottom:30px;color:#555;font-size:1.1em;text-align:center;}

/* Django Form Styles */
form p{position:relative;margin-bottom:28px;}
form p label{display:block;margin-bottom:6px;font-weight:600;color:var(--green);}
form p input, form p select, form p textarea{
  width:100%;padding:16px 14px;border-radius:14px;border:1px solid rgba(30,107,58,0.2);
  background:rgba(255,255,255,0.85);outline:none;font-size:1em;transition:all 0.3s ease;
}
form p input:focus, form p select:focus, form p textarea:focus{
  border-color:var(--green);box-shadow:0 0 0 3px rgba(30,107,58,0.15);
}

/* Button */
.btn{background:var(--green);color:#fff;border:none;padding:16px 40px;border-radius:50px;font-size:1.1em;font-weight:bold;cursor:pointer;width:100%;margin-top:10px;transition:all 0.3s ease;}
.btn:hover{background:var(--dark);transform:translateY(-2px);}
.toggle-link{color:var(--green);font-weight:600;text-decoration:none;}
.toggle-link:hover{text-decoration:underline;}
.terms{font-size:0.9em;color:#666;margin-top:20px;}
.terms a{color:var(--green);text-decoration:none;}
.terms a:hover{text-decoration:underline;}

/* Footer */
footer{padding:30px 20px;text-align:center;background:var(--green);color:#fff;margin-top:auto;}
footer p{font-size:0.95em;}

/* Responsive */
@media(max-width:576px){.glass{padding:30px 20px;}.auth-container h1{font-size:2.2em;}main{padding-top:100px;}}

/* Alert Box Styles */
.alert {
    padding: 12px 15px;
    margin-bottom: 15px;
    border-radius: 10px;
    font-weight: 600;
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
}

/* Error Messages */
.alert.error {
    background: rgba(255, 0, 0, 0.1); /* soft red background */
    color: #d32f2f; /* dark red text */
    border-left: 4px solid #d32f2f;
}

/* Success Messages */
.alert.success {
    background: rgba(76, 175, 80, 0.1); /* soft green background */
    color: #388e3c; /* dark green text */
    border-left: 4px solid #4caf50;
}

/* Optional: add fade-in animation */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(-5px); }
    to { opacity: 1; transform: translateY(0); }
}

.alert {
    animation: fadeIn 0.5s ease-out;
}

/* Password Toggle */
.password-wrapper {
  position: relative;
}

.password-toggle {
  position: absolute;
  right: 14px;
  top: 50%;
  transform: translateY(-50%);
  cursor: pointer;
  font-size: 1.1em;
  color: var(--green);
  user-select: none;
}

.password-toggle:hover {
  color: var(--dark);
}

</style>
</head>
<body>

<header>
<div class="logo"><img src="{% static 'images/logo.png' %}" alt="WACatalog Logo"></div>
<a href="{% url 'home' %}" style="color:var(--green);font-weight:600;">‚Üê Back to Home</a>
</header>

<main>
<div class="glass auth-container">
<h1>Create Your Account</h1>
<p>Join thousands of African businesses growing with WhatsApp</p>

{% if messages %}
  {% for message in messages %}
    <div class="alert {{ message.tags }}">
      {{ message }}
    </div>
  {% endfor %}
{% endif %}


<form method="post" action="{% url 'register' %}">
{% csrf_token %}
{{ form.as_p }}
<button type="submit" class="btn">Create Store</button>
</form>

<div class="terms">
By signing up, you agree to our <a href="/terms">Terms of Service</a> and <a href="/privacy">Privacy Policy</a>.
</div>

<p style="margin-top:25px;text-align:center;">
Already have an account? <a href="{% url 'login' %}" class="toggle-link">Login here</a>
</p>
</div>
</main>

<footer>
<p>&copy; 2026 WACatalog. Empowering African businesses.</p>
</footer>


<script>
document.addEventListener("DOMContentLoaded", function () {
    const passwordInputs = document.querySelectorAll('input[type="password"]');

    passwordInputs.forEach(function (input) {
        const wrapper = document.createElement("div");
        wrapper.classList.add("password-wrapper");

        input.parentNode.insertBefore(wrapper, input);
        wrapper.appendChild(input);

        const toggle = document.createElement("span");
        toggle.classList.add("password-toggle");
        toggle.innerHTML = "üëÅÔ∏è";

        toggle.addEventListener("click", function () {
            if (input.type === "password") {
                input.type = "text";
                toggle.innerHTML = "üôà";
            } else {
                input.type = "password";
                toggle.innerHTML = "üëÅÔ∏è";
            }
        });

        wrapper.appendChild(toggle);
    });
});
</script>

</body>
</html>
